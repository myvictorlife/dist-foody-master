{"version":3,"sources":["/home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status-routing.module.ts","/home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.component.html","/home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.component.scss","/home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.component.ts","/home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.module.ts"],"names":[],"mappings":"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","file":"6.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { StatusComponent } from './status.component';\n\nconst routes: Routes = [\n    { path: '', component: StatusComponent }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class StatusRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status-routing.module.ts","module.exports = \"<div [@routerTransition]>\\n    <app-page-header [heading]=\\\"'Busca Pedidos Por Status'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\n</div>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-xl-12\\\">\\n      <button style=\\\"margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-info\\\" (click)=\\\"findByStatus(1)\\\">\\n              PENDENTE - AGUARDANDO CONFIRMAÇÃO\\n      </button>\\n      <button style=\\\"margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"findByStatus(2)\\\">\\n              EM PREPARO - JÁ FOI CONFIRMADO\\n      </button>\\n      <button style=\\\"margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"findByStatus(3)\\\">\\n              SAIU PARA ENTREGA\\n      </button>\\n      <button style=\\\"margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"findByStatus(4)\\\">\\n              CONCLUÍDO - PEDIDO ENTREGUE\\n      </button>\\n      <button style=\\\"margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"findByStatus(5)\\\">\\n              CANCELADO - PEDIDO CANCELADO\\n      </button>\\n      <br/>\\n  </div>\\n  <div *ngIf=\\\"objectNotification && objectNotification && objectNotification.user && objectNotification.user.first_name\\\" class=\\\"col-xl-5\\\">\\n    <h4>Enviar notificação</h4>\\n    Cliente: {{objectNotification.user.first_name}} {{objectNotification.user.last_name}}\\n    <span *ngIf=\\\"!objectNotification.pushUserId\\\">Não é possivel enviar notificação.</span>\\n    <div *ngIf=\\\"objectNotification.pushUserId\\\">\\n      <textarea type=\\\"text\\\" class=\\\"form-control\\\"\\n      [(ngModel)]=\\\"notification\\\"\\n      id=\\\"notification\\\" rows=\\\"3\\\" ></textarea>\\n      <button style=\\\"float: right; margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"sendNotification()\\\">\\n              Enviar\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n<br/>\\n<div class=\\\"row\\\">\\n\\t\\n    <div class=\\\"col-xl-2\\\">\\n      <button style=\\\"margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"stopAudio()\\\">\\n                Para audio\\n      </button>\\n    </div>\\n    <div class=\\\"col-xl-2\\\">\\n      <button style=\\\"margin-top: 10px;\\\" *ngIf=\\\"showAudio\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"changeAudio(false)\\\">\\n          Esta com Audio\\n      </button>\\n      <button *ngIf=\\\"!showAudio\\\" type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"changeAudio(true)\\\">\\n          Esta sem Audio\\n      </button>\\n    </div>\\n    <div class=\\\"col-xl-2\\\">\\n      <button style=\\\"margin-top: 10px;\\\" type=\\\"button\\\" class=\\\"btn btn-info\\\" (click)=\\\"alertAudio(true)\\\">\\n          Testar Audio\\n      </button>\\n    </div>\\n</div>\\n\\n<br/>\\n\\n<table class=\\\"table table-responsive table-hover table-bordered\\\">\\n  <thead>\\n    <tr>\\n      <th>#id</th>\\n      <th>Usuário</th>\\n      <th>Estabelecimento</th>\\n      <th>Entregar</th>\\n      <th>Status</th>\\n      <th>Observação</th>\\n      <th>Espera</th>\\n      <th>Criado</th>\\n      <th>Editado</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let order of orders\\\" (click)=\\\"setNotification(order)\\\" >\\n      <td>{{order.id}}</td>\\n      <td>{{getUser(order.orders.user)}}</td>\\n      <td>{{getRestaurant(order.orders.restaurant)}}</td>\\n      <td>{{order.flag_delivery ? 'SIM' : 'NÂO'}}</td>\\n      <td>{{order.status}}</td>\\n      <td>{{order.note}}</td>\\n      <td>{{getDate(order)}}</td>\\n      <td>{{order.createdAt | date:\\\"dd/MM/yyyy hh:mm a\\\"}}</td>\\n      <td>{{order.updatedAt | date:\\\"dd/MM/yyyy hh:mm a\\\"}}</td>\\n    </tr>\\n  </tbody>\\n</table>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.component.html\n// module id = ../../../../../src/app/layout/status/status.component.html\n// module chunks = 6","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.component.scss\n// module id = ../../../../../src/app/layout/status/status.component.scss\n// module chunks = 6","import {\n\tComponent,\n\tOnInit\n} from '@angular/core';\n\nimport {\n\trouterTransition\n} from '../../router.animations';\n\nimport {\n\tOrdersService\n} from '../../shared/services/orders.service';\n\nimport {\n\tToastrService\n} from 'ngx-toastr';\n\n@Component({\n\tselector: 'app-status',\n\ttemplateUrl: './status.component.html',\n\tstyleUrls: ['./status.component.scss'],\n\tanimations: [routerTransition()]\n})\nexport class StatusComponent implements OnInit {\n\n\torders: any;\n\taudio: any;\n\tshowAudio: boolean = true;\n\tclient: any;\n\tobjectNotification: any;\n\tnotification: string = \"Equipe Sacia Fome esta analisando a demora de seu pedido. Por favor, aguarde!\"\n\tconstructor(public ordersService: OrdersService,\n\t\tprivate toastr: ToastrService) {\n\t\tthis.orders = [];\n\t\tthis.newObject();\n\t\tthis.ordersService.findByStatus(5)\n\t\t\t.subscribe(result => {\n\t\t\t\tthis.orders = result.data;\n\t\t\t}, error => {\n\t\t\t\tif (error.status === 401) {\n\t\t\t\t\tthis.onLoggedout();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tngOnInit() {\n\t\tsetInterval(() => {\n\t\t\tthis.ordersService.findByStatus(1)\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tif (result.data.length) {\n\t\t\t\t\t\tthis.orders = result.data;\n\t\t\t\t\t\tthis.alertAudio();\n\t\t\t\t\t}\n\t\t\t\t}, error => {\n\t\t\t\t\tif (error.status === 401) {\n\t\t\t\t\t\tthis.onLoggedout();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}, 60000);\n\t}\n\n\tfindByStatus(status) {\n\t\tthis.objectNotification.user = {};\n\t\tthis.ordersService.findByStatus(status)\n\t\t\t.subscribe(result => {\n\t\t\t\tthis.orders = result.data;\n\t\t\t}, error => {\n\t\t\t\tif (error.status === 401) {\n\t\t\t\t\tthis.onLoggedout();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tstopAudio() {\n\t\tif (this.audio && !this.audio.paused) {\n\t\t\tthis.audio.pause();\n\t\t}\n\t}\n\n\tgetUser(user) {\n\t\treturn \"Nome: \" + user.first_name + \" \" + user.last_name + \" || Telefone: \" + user.phone;\n\t}\n\n\tgetRestaurant(restaurant) {\n\t\treturn restaurant.name + \" Telefone: \" + restaurant.phone\n\t}\n\n\tgetDate(order) {\n\t\tif (parseInt(order.status) === 1) {\n\t\t\tlet dateNow = new Date();\n\t\t\tlet dateCreated = new Date(order.createdAt);\n\t\t\tlet timeDiff = Math.abs(dateCreated.getTime() - dateNow.getTime());\n\t\t\tlet diffMinutes = Math.ceil(timeDiff / 1000 / 60);\n\t\t\treturn diffMinutes + \"min\";\n\t\t}\n\t\treturn \" - \"\n\t}\n\n\talertAudio() {\n\t\tthis.stopAudio();\n\t\tif (this.showAudio) {\n\t\t\tthis.audio = new Audio();\n\t\t\tthis.audio.src = \"assets/audio/door-bell.mp3\";\n\t\t\tthis.audio.load();\n\t\t\tthis.audio.play();\n\t\t}\n\t}\n\n\tchangeAudio(status) {\n\t\tthis.showAudio = status;\n\t}\n\n\tsetNotification(order) {\n\t\tthis.objectNotification = {\n\t\t\tid: order.id,\n\t\t\tpushUserId: order.push_user_id,\n\t\t\tmessage: this.notification,\n\t\t\tthumb: \"https://prod.saciafome.com/upload/uploads/saciafome.png\",\n\t\t\trestaurantName: order.orders.restaurant.name,\n\t\t\tuser: order.orders.user\n\t\t}\n\t}\n\n\tsendNotification() {\n\t\tlet object = this.objectNotification;\n\t\tthis.newObject();\n\t\tthis.ordersService.sendNotification(object)\n\t\t\t.subscribe(result => {\n\t\t\t\tthis.toastr.success('', 'Notificação foi enviada ao usuário');\n\t\t\t}, error => {\n\t\t\t\tif (error.status === 401) {\n\t\t\t\t\tthis.onLoggedout();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tnewObject() {\n\t\tthis.objectNotification = {};\n\t\tthis.objectNotification.user = {};\n\t}\n\n\tonLoggedout() {\n        localStorage.removeItem(\"isUserLogged\");\n        window.location.reload();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StatusComponent } from './status.component';\nimport { StatusRoutingModule } from './status-routing.module';\nimport { PageHeaderModule } from './../../shared';\nimport { ToastrModule } from 'ngx-toastr';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from './../../shared/shared.module';\n\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        StatusRoutingModule,\n        PageHeaderModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ToastrModule.forRoot(),\n        NgbModule.forRoot(),\n        SharedModule\n    ],\n    declarations: [StatusComponent]\n})\nexport class StatusModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/saciafome-master/src/app/layout/status/status.module.ts"],"sourceRoot":"webpack:///"}